#: import utils kivy.utils
#: import Factory kivy.factory.Factory
#: import WipeTransition kivy.uix.screenmanager.WipeTransition

<TextInput>
    multiline: False
    background_color: utils.get_color_from_hex("#FCF7F8")
    font_name: "OpenSans-Semibold"
    halign: 'center'
    valign: 'middle'
    font_size: 12
<Label>
    background_normal: ""
    background_color: (206/255, 211/255, 220/255, 1)
    color: (1, 1, 1, 1)
    font_name: "OpenSans-Semibold"
    font_size: 15
<Button>
    background_normal: ""
    background_color: utils.get_color_from_hex("#4E8098")
    font_name: "OpenSans-Semibold"
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height
<Spinner>
    color: (0, 0, 0, 1)
    background_color: utils.get_color_from_hex("#90C2E7")
<Popup>
    auto_dismiss: True
    background: "popupBackground.png"
    size_hint: 0.6, 0.2
    pos_hint: {"x": 0.2, "top": 0.6}
    font_name: "OpenSans-Semibold"
    title: "WARNING"
    title_color: (163/255, 22/255, 33/255, 1)
    title_align: "center"
    title_font: "OpenSans-Semibold"
    title_size: '20sp'
    separator_color: utils.get_color_from_hex("#4E8098")
<RoundedButton@Button>
    background_color: utils.get_color_from_hex("#A31621")
    color: (1, 1, 1, 1)
    size_hint_y: None
    height: 50
<LoginPopup@Popup>
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        Label:
            text: "INCORRECT LOGIN OR PASSWORD"
            color: (0, 0, 0, 1)
        Button:
            text: "OK"
            on_release: root.dismiss()
<DatePeriod@Popup>
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        Label:
            text: "INVALID DATE PERIOD"
            color: (0, 0, 0, 1)
        Button:
            text: "OK"
            on_release: root.dismiss()

WindowManager:
    transition: WipeTransition()
	LoginWindow:
	RegisterWindow:
	DateWindow:
	RoomWindow:


<LoginWindow>:
	name: "loginWindow"
    login: login
    password: password
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "gradientBackground.png"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        padding: 150
        spacing: 10
        Label:
            id: loginLabel
            text: "USERNAME:"
            color: (0, 0, 0, 1)
            font_size: 30
            size_hint_y: None
            height: 50
        TextInput:
            id: login
            hint_text: "ENTER USERNAME"
            size_hint_y: None
            height: 50
            font_size: 20
        Label:
            id: passwordLabel
            text: "PASSWORD:"
            color: (0, 0, 0, 1)
            font_size: 30
            size_hint_y: None
            height: 50
        TextInput:
            id: password
            hint_text: "ENTER PASSWORD"
            password: True
            size_hint_y: None
            height: 50
            font_size: 20
        RoundedButton:
            text: "LOGIN"
            font_size: 30
            on_release: app.root.current = root.loginPress()[1] if root.loginPress()[0] else Factory.LoginPopup().open()


<DateWindow>:
    name: "dateWindow"
    startDay: startDay
    endDay: endDay
    startMonth: startMonth
    endMonth: endMonth
    startYear: startYear
    endYear: endYear
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "gradientBackground.png"
    spinner: startDay
    on_enter: root.limit_spinner()
    BoxLayout:
        orientation: "vertical"
        padding: 150
        spacing: 10
        Label:
            font_size: 20
            color: (0, 0, 0, 1)
            text: "START DATE"
        GridLayout:
            cols: 3
            Spinner:
                id: startDay
                text: root.currentDay
                background_color: utils.get_color_from_hex("#90C2E7")
                size_hint_y: None
                height: 50
                values: root.daysStart
            Spinner:
                id: startMonth
                text: root.months[root.currentMonth-1]
                background_color: utils.get_color_from_hex("#90C2E7")
                size_hint_y: None
                height: 50
                on_text: root.daysInSelectedMonthForStart()
                values: root.months
            Spinner:
                id: startYear
                text: root.currentYear
                background_color: utils.get_color_from_hex("#90C2E7")
                size_hint_y: None
                height: 50
                on_text: root.daysInSelectedMonthForStart()
                values: ["2021", "2022", "2023", "2024", "2025", "2026", "2027"]
        Label:
            font_size: 20
            color: (0, 0, 0, 1)
            text: "END DATE"
        GridLayout:
            cols: 3
            Spinner:
                id: endDay
                text: root.currentDay
                background_color: utils.get_color_from_hex("#90C2E7")
                size_hint_y: None
                height: 50
                values: root.daysEnd
            Spinner:
                id: endMonth
                text: root.months[root.currentMonth-1]
                background_color: utils.get_color_from_hex("#90C2E7")
                size_hint_y: None
                height: 50
                on_text: root.daysInSelectedMonthForEnd()
                values: root.months
            Spinner:
                id: endYear
                text: root.currentYear
                background_color: utils.get_color_from_hex("#90C2E7")
                size_hint_y: None
                height: 50
                on_text: root.daysInSelectedMonthForEnd()
                values: ["2021", "2022", "2023", "2024", "2025", "2026", "2027"]
        BoxLayout:
            orientation: "horizontal"
            RoundedButton:
                text: "BACK"
                background_color: utils.get_color_from_hex("#CED3DC")
                color: (0, 0, 0, 1)
                font_size: 30
                on_release: app.root.current = "loginWindow"
            RoundedButton:
                text: "SEARCH"
                font_size: 30
                on_release: app.root.current = "roomWindow" if root.wrongTimePeriod() else Factory.DatePeriod().open()


<RoomWindow>:
    name: "roomWindow"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "gradientBackground.png"
    BoxLayout:
        orientation: 'vertical'
        padding: 30
#        spacing: 10
        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Spinner:
                text: "1"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "2"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "3"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "4"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "5"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "6"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "7"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "8"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "9"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "10"
                values: ["Clear", "Reserved", "Occupied"]
        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Spinner:
                text: "1"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "2"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "3"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "4"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "5"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "6"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "7"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "8"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "9"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "10"
                values: ["Clear", "Reserved", "Occupied"]
        Label:
            text: "GROUND FLOOR"
            color: (0, 0, 0, 1)
        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Spinner:
                text: "11"
                values: ["CLEAR", "RESERVED", "OCCUPIED"]
            Spinner:
                text: "12"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "13"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "14"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "15"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "16"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "17"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "18"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "19"
                values: ["Clear", "Reserved", "Occupied"]
            Spinner:
                text: "20"
                values: ["Clear", "Reserved", "Occupied"]





<RegisterWindow>:
	name: "registerWindow"
	spinner: roomNumber
	on_enter: root.limit_spinner()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "gradientBackground.png"
	BoxLayout:
        size: root.width, root.height
	    orientation: "vertical"
        padding: 30
        spacing: 10
        Label:
            text: "REGISTER"
            font_size: 20
            size_hint_y: None
            height: 40
            color: (0, 0, 0, 1)
        GridLayout:
            spacing: 5
            cols: 2
            Label:
                id: firstNameLabel
                text: "FIRST NAME:"
            TextInput:
                id: firstName
                hint_text: "ENTER FIRST NAME"
                on_text: root.manager.get_screen("registerWindow").ids.firstName.text = self.text
            Label:
                id: secondNameLabel
                text: "SECOND NAME:"
            TextInput:
                id: secondName
                hint_text: "ENTER SECOND NAME"
            Label:
                id: addressLabel
                text: "ADDRESS:"
            TextInput:
                id: address
                hint_text: "ENTER ADDRESS"
            Label:
                id: cityLabel
                text: "CITY:"
            TextInput:
                id: city
                hint_text: "ENTER CITY"
            Label:
                id: stateLabel
                text: "STATE:"
            TextInput:
                id: state
                hint_text: "ENTER STATE"
            Label:
                id: zipcodeLabel
                text: "ZIPCODE:"
            TextInput:
                id: zipcode
                hint_text: "ENTER ZIPCODE"
            Label:
                id: roomNumberLabel
                text: "ROOM NUMBER:"
            Spinner:
                id: roomNumber
                text: "choose number window"
                background_color: utils.get_color_from_hex("#4E8098")
                values: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29"]
            Label:
                id: statusLabel
                text: "STATUS:"
            Spinner:
                id: status
                text: "CHOOSE STATUS"
                background_color: utils.get_color_from_hex("#4E8098")
                values: ["CLEAR", "OCCUPIED", "RESERVED"]
                on_text: root.spinnerClicked(status.text)
            Label:
                id: bookStartDateLabel
                text: "BOOK START DATE:"
            Button:
                id: bookStartDate
                text: "CHOOSE START DATE"
            Label:
                id: bookEndDateLabel
                text: "BOOK END DATE:"
            TextInput:
                id: bookEndDate
                hint_text: "calendar popup TODO"
            Label:
                id: paymentStatusLabel
                text: "PAYMENT STATUS:"
            Spinner:
                id: state
                text: "CHOOSE STATUS"
                ackground_color: utils.get_color_from_hex("#4E8098")
        RoundedButton:
            text: "REGISTER"
            font_size: 30
            on_release:
                root.registerPress()






















#	BoxLayout:
#		orientation: "vertical"
#		size: root.width, root.height
#
#		Label:
#			text: "Second Screen"
#			font_size: 32
#
#		Button:
#			text: "Go Back"
#			font_size: 32
#			on_release:
#				app.root.current = "loginWindow"
#				root.manager.transition.direction = "right"


#you can use the root.manager.get_screen('screen_name').widget_id.parameter (like root.manager.get_screen('main_window').label.text) inside your .kv file


